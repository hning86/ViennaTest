/data/git/hai/e2e_test
*** git branch status before ***
  candidate
  daily
* master
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   best_model.pkl
	modified:   mse_over_alpha.png

no changes added to commit (use "git add" and/or "git commit -a")
*** daily ***
Saved working directory and index state WIP on master: 505f499 update-aml
HEAD is now at 505f499 update-aml
git checkout daily
Your branch is ahead of 'origin/daily' by 10 commits.
  (use "git push" to publish your local commits)
Already up-to-date.
*** git branch status after ***
  candidate
* daily
  master
On branch daily
Your branch is ahead of 'origin/daily' by 10 commits.
  (use "git push" to publish your local commits)
nothing to commit, working directory clean
###################################
START AT: 2018-06-03-10:02:37
###################################


##### 01.interactive.e2e.py (2018-06-03-10:02:37) ######
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
start sequential parameter sweep...
try alpha value of 0.00
try alpha value of 0.05
try alpha value of 0.10
try alpha value of 0.15
try alpha value of 0.20
try alpha value of 0.25
try alpha value of 0.30
try alpha value of 0.35
try alpha value of 0.40
try alpha value of 0.45
try alpha value of 0.50
try alpha value of 0.55
try alpha value of 0.60
try alpha value of 0.65
try alpha value of 0.70
try alpha value of 0.75
try alpha value of 0.80
try alpha value of 0.85
try alpha value of 0.90
try alpha value of 0.95
Find the best run.
Best run is: 2d404998-f82d-44dd-a671-0efbe2f3422d
Metrics: {'alpha': 0.4, 'mse': 3295.741064355809, 'columns': ['age', 'gender', 'bmi', 'bp', 's1', 's2', 's3', 's4', 's5', 's6']}
Run history url:
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-01/run-history/run-details/2d404998-f82d-44dd-a671-0efbe2f3422d
plot mse_over_alpha.png
upload mse_over_alpha.png.
deploying to ACI...
Registering model best_model.pkl
Creating image
Image creation operation finished for image rrs01a:13, operation "Succeeded"
Creating service


##### 02.local.py (2018-06-03-10:05:35) ################
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
/tmp/e2e-test/02 already exists, remove it.
/tmp/e2e-test/02
e2e-02
copy train-sklearn.py to the project folder.
load run config

##################################################
submitting train-sklearn.py for a local run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-02/run-history/run-details/e2e-02_1528034738
RunId: e2e-02_1528034738

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-02_1528034738


##################################################
Submitting train-sklearn.py for a local conda run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-02/run-history/run-details/e2e-02_1528034777
RunId: e2e-02_1528034777

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-02_1528034777

When alpha is 0.40, we have min MSE 3295.74.


##### 03.aci.py (2018-06-03-10:06:54) ##################
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
/tmp/e2e-test/03 already exists, remove it.
/tmp/e2e-test/03
e2e-03
copy train-sklearn.py to the project folder.

##################################################
ACI run...
##################################################

Create a run config object for ACI
base image is continuumio/miniconda3:4.4.10
submitting run...
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-03/run-history/run-details/e2e-03_1528034816354
RunId: e2e-03_1528034816354

Execution Summary
=================
RunId: e2e-03_1528034816354



##### 04.dsvm (2018-06-03-10:09:45) ####################
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
/tmp/e2e-test/04 already exists, remove it.
/tmp/e2e-test/04
e2e-04
copy train-sklearn.py to the project folder.

##################################################
Bare VM run
##################################################

Load the cpu-dsvm config from aml_config directory...
submit run...
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-04/run-history/run-details/e2e-04_1528034989211
RunId: e2e-04_1528034989211

Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/60_control_log.txt
Running: ['/anaconda/envs/myenv/bin/python', 'azureml-setup/run_script.py', '/anaconda/envs/myenv/bin/python', 'azureml-setup/context_manager_injector.py', '-i', 'ProjectPythonPath:context_managers.ProjectPythonPath', '-i', 'OutputCollection:context_managers.RunHistory', 'train-sklearn.py']
Logging experiment running status in history service.
Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-04_1528034989211


##################################################
DSVM Docker run...
##################################################

Load cpu-dsvm run config and make it to use Docker.
Base Docker image is: continuumio/miniconda3:4.4.10
submitting run...
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-04/run-history/run-details/e2e-04_1528035015745
RunId: e2e-04_1528035015745

Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/60_control_log.txt
Logging experiment running status in history service.
Running: ['sudo', 'docker', 'run', '--name', 'e2e-04_1528035015745', '--rm', '-v', '/tmp/azureml_runs/e2e-04_1528035015745:/azureml-run', '-e', 'AZUREML_DOCKERFILE_PATH=azureml-setup/Dockerfile', '-e', 'AZUREML_CONDA_ENVIRONMENT_EXISTENCE_INDICATOR=$HOME/.azureml/locks/azureml_2a9900e538c4d66a9c044566e96aa6f1', '-e', 'AZUREML_CONDA_ENVIRONMENT_PATH=/azureml-envs/azureml_2a9900e538c4d66a9c044566e96aa6f1', '-e', 'AZUREML_CONDA_LOCK_PATH=$HOME/.azureml/locks/azureml_conda_lock', '-e', 'EXAMPLE_ENV_VAR=EXAMPLE_VALUE', '-e', 'AZUREML_CONTEXT_MANAGER_OUTPUTCOLLECTION=null', '-e', 'AZUREML_CONTEXT_MANAGER_PROJECTPYTHONPATH=null', '-e', 'AZUREML_RUN_TOKEN_EXPIRY=1528639816', '-e', 'AZUREML_RUN_TOKEN=eyJhbGciOiJSUzI1NiIsImtpZCI6IkZBOEE2NkNFNzcyMzY3MkI2M0YzN0ZEMjhBRDZFQTkxMTMxQjQ1QzQiLCJ0eXAiOiJKV1QifQ.eyJydW5pZCI6ImUyZS0wNF8xNTI4MDM1MDE1NzQ1Iiwicm9sZSI6IkNvbnRyaWJ1dG9yIiwic2NvcGUiOiIvc3Vic2NyaXB0aW9ucy9mYWMzNDMwMy00MzVkLTQ0ODYtOGMzZi03MDk0ZDgyYTBiNjAvcmVzb3VyY2VHcm91cHMvYW1sLW5vdGVib29rcy9wcm92aWRlcnMvTWljcm9zb2Z0Lk1hY2hpbmVMZWFybmluZ1NlcnZpY2VzL3dvcmtzcGFjZXMvaGFpZWFzdHVzMmV1YXB3cyIsImFjY291bnRpZCI6Ijc1MGU4MGJlLTEyOTAtNDcyOC04OTYwLTVhY2ZlMTk4MGM2ZSIsIndvcmtzcGFjZUlkIjoiNzUwZTgwYmUtMTI5MC00NzI4LTg5NjAtNWFjZmUxOTgwYzZlIiwicHJvamVjdGlkIjoiNGJkY2JiNjYtMDZmOC00Yjk1LWEzMzUtMmE0MDUxNzJmMDQxIiwiZGlzY292ZXJ5IjoiaHR0cHM6Ly9lYXN0dXMyZXVhcC5leHBlcmltZW50cy5henVyZW1sLm5ldC9kaXNjb3ZlcnkiLCJ0aWQiOiI3MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDciLCJvaWQiOiIzNDI2YmU4MC02NzI5LTQ4MzktYTk3ZC1jNzlhMzRlNWJhMWQiLCJleHAiOjE1Mjg2Mzk4MTYsImlzcyI6ImF6dXJlbWwiLCJhdWQiOiJhenVyZW1sIn0.OFU4W7jCLBRcs3QyNUFrwXIkerYs1ReEHovySlFOy_lqch9m3NcMEQanT0RvNX1YMJ6xH-g8Y0kFNzjqj8GKAzKbCSwzWfHb5kxrzfEME1YDmXvwYfhBVccmDEoe7FhhHgbr8VFmUNzUnykAlN-VVZ_Jh6NAaB75U6PXiaXHCtjHumiBsCQppvx1JMTRNdxRBZhC2fhW_I_BX195A_Jw-abCUXiC3JLPXN7SGt2GE4HDDD6f6EYL3YTVgVQ8l6Cl7a0D9xfe7HuBedhgIZqwQdxBM-5JGLDOSO4qa37ardwWs2HACL09CkgM_SZ8XITeS2e3cWGuVABbWPASwN6EqA', '-e', 'PYTHONUNBUFFERED=True', '-e', 'AZUREML_ARM_PROJECT_NAME=e2e-04', '-e', 'AZUREML_ARM_WORKSPACE_NAME=haieastus2euapws', '-e', 'AZUREML_ARM_SUBSCRIPTION=fac34303-435d-4486-8c3f-7094d82a0b60', '-e', 'AZUREML_ARM_RESOURCEGROUP=aml-notebooks', '-e', 'AZUREML_ARM_SCOPE=/subscriptions/fac34303-435d-4486-8c3f-7094d82a0b60/resourceGroups/aml-notebooks/providers/Microsoft.MachineLearningServices/workspaces/haieastus2euapws/projects/e2e-04', '-e', 'AZUREML_DISCOVERY_SERVICE_ENDPOINT=https://eastus2euap.experiments.azureml.net/discovery', '-e', 'AZUREML_SERVICE_ENDPOINT=https://eastus2euap.experiments.azureml.net', '-e', 'AZUREML_RUN_CONFIGURATION=azureml-setup/mutated_run_configuration.yml', '-e', 'AZUREML_INSTRUMENTATION_KEY=c684677d-b3a0-4709-a00e-78e5b31cfafa', '-e', 'AZUREML_DRIVERLOG_PATH=azureml-logs/driver_log.txt', '-e', 'AZUREML_CONTROLLOG_PATH=azureml-logs/control_log.txt', '-e', 'AZUREML_LOGDIRECTORY_PATH=azureml-logs/', '-e', 'AZUREML_COMPLETEFILE_PATH=azureml-setup/complete', '-e', 'AZUREML_PIDFILE_PATH=azureml-setup/pid.txt', '-e', 'AZUREML_RUN_ID=e2e-04_1528035015745', 'azureml/azureml_4bbfede4df844acbba1732fe0369fe2a', '/bin/bash', '-c', '"/azureml-envs/azureml_2a9900e538c4d66a9c044566e96aa6f1/bin/python" "azureml-setup/run_script.py" "/azureml-envs/azureml_2a9900e538c4d66a9c044566e96aa6f1/bin/python" "azureml-setup/context_manager_injector.py" "-i" "ProjectPythonPath:context_managers.ProjectPythonPath" "-i" "OutputCollection:context_managers.RunHistory" "train-sklearn.py"']
Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-04_1528035015745

load cpu-dsvm run config and make it use a custom Docker image.
base image: ninghai/azureml:0.3

##################################################
submitting train-sklearn.py for a Custom Docker run on VM...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-04/run-history/run-details/e2e-04_1528035069028
RunId: e2e-04_1528035069028

Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/60_control_log.txt
Logging experiment running status in history service.
Running: ['sudo', 'docker', 'run', '--name', 'e2e-04_1528035069028', '--rm', '-v', '/tmp/azureml_runs/e2e-04_1528035069028:/azureml-run', '-e', 'AZUREML_DOCKERFILE_PATH=azureml-setup/Dockerfile', '-e', 'AZUREML_CONDA_ENVIRONMENT_EXISTENCE_INDICATOR=$HOME/.azureml/locks/azureml_2a9900e538c4d66a9c044566e96aa6f1', '-e', 'AZUREML_CONDA_ENVIRONMENT_PATH=/azureml-envs/azureml_2a9900e538c4d66a9c044566e96aa6f1', '-e', 'AZUREML_CONDA_LOCK_PATH=$HOME/.azureml/locks/azureml_conda_lock', '-e', 'EXAMPLE_ENV_VAR=EXAMPLE_VALUE', '-e', 'AZUREML_CONTEXT_MANAGER_OUTPUTCOLLECTION=null', '-e', 'AZUREML_CONTEXT_MANAGER_PROJECTPYTHONPATH=null', '-e', 'AZUREML_RUN_TOKEN_EXPIRY=1528639870', '-e', 'AZUREML_RUN_TOKEN=eyJhbGciOiJSUzI1NiIsImtpZCI6IkZBOEE2NkNFNzcyMzY3MkI2M0YzN0ZEMjhBRDZFQTkxMTMxQjQ1QzQiLCJ0eXAiOiJKV1QifQ.eyJydW5pZCI6ImUyZS0wNF8xNTI4MDM1MDY5MDI4Iiwicm9sZSI6IkNvbnRyaWJ1dG9yIiwic2NvcGUiOiIvc3Vic2NyaXB0aW9ucy9mYWMzNDMwMy00MzVkLTQ0ODYtOGMzZi03MDk0ZDgyYTBiNjAvcmVzb3VyY2VHcm91cHMvYW1sLW5vdGVib29rcy9wcm92aWRlcnMvTWljcm9zb2Z0Lk1hY2hpbmVMZWFybmluZ1NlcnZpY2VzL3dvcmtzcGFjZXMvaGFpZWFzdHVzMmV1YXB3cyIsImFjY291bnRpZCI6Ijc1MGU4MGJlLTEyOTAtNDcyOC04OTYwLTVhY2ZlMTk4MGM2ZSIsIndvcmtzcGFjZUlkIjoiNzUwZTgwYmUtMTI5MC00NzI4LTg5NjAtNWFjZmUxOTgwYzZlIiwicHJvamVjdGlkIjoiNGJkY2JiNjYtMDZmOC00Yjk1LWEzMzUtMmE0MDUxNzJmMDQxIiwiZGlzY292ZXJ5IjoiaHR0cHM6Ly9lYXN0dXMyZXVhcC5leHBlcmltZW50cy5henVyZW1sLm5ldC9kaXNjb3ZlcnkiLCJ0aWQiOiI3MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDciLCJvaWQiOiIzNDI2YmU4MC02NzI5LTQ4MzktYTk3ZC1jNzlhMzRlNWJhMWQiLCJleHAiOjE1Mjg2Mzk4NzAsImlzcyI6ImF6dXJlbWwiLCJhdWQiOiJhenVyZW1sIn0.n7mT0u7b1cXYis-QLvtNr6Ofr0zy4-8bv271oMC5T7--XXDI-GyXTOiuD9rdyp4IDi4wJpQpowZ5348D2BMDHJN2TpZwZUfOBNCRpy5ysJySQnQYIuOw54-5zyvd9HRSLJSfTJ2PY7b5wvGXrUOUoOYfeUtOlO_yMr3IljYW1jxl8VNMOd0wEXCSduFyuP-Jdxl7Jsuzxsw1-A8DMEWOGM-Pxx3jilE_qI1X2DESfFSJvu2bOGPK9_zwdMgArsE70D0ejaMt-8Qf3cyyk462cdcckHjUzTAeBmYQZNrwGMIUopOkJU_H1tIZ4GB-9Og-ULwxoQnT_NWPUkfuC0YFsA', '-e', 'PYTHONUNBUFFERED=True', '-e', 'AZUREML_ARM_PROJECT_NAME=e2e-04', '-e', 'AZUREML_ARM_WORKSPACE_NAME=haieastus2euapws', '-e', 'AZUREML_ARM_SUBSCRIPTION=fac34303-435d-4486-8c3f-7094d82a0b60', '-e', 'AZUREML_ARM_RESOURCEGROUP=aml-notebooks', '-e', 'AZUREML_ARM_SCOPE=/subscriptions/fac34303-435d-4486-8c3f-7094d82a0b60/resourceGroups/aml-notebooks/providers/Microsoft.MachineLearningServices/workspaces/haieastus2euapws/projects/e2e-04', '-e', 'AZUREML_DISCOVERY_SERVICE_ENDPOINT=https://eastus2euap.experiments.azureml.net/discovery', '-e', 'AZUREML_SERVICE_ENDPOINT=https://eastus2euap.experiments.azureml.net', '-e', 'AZUREML_RUN_CONFIGURATION=azureml-setup/mutated_run_configuration.yml', '-e', 'AZUREML_INSTRUMENTATION_KEY=c684677d-b3a0-4709-a00e-78e5b31cfafa', '-e', 'AZUREML_DRIVERLOG_PATH=azureml-logs/driver_log.txt', '-e', 'AZUREML_CONTROLLOG_PATH=azureml-logs/control_log.txt', '-e', 'AZUREML_LOGDIRECTORY_PATH=azureml-logs/', '-e', 'AZUREML_COMPLETEFILE_PATH=azureml-setup/complete', '-e', 'AZUREML_PIDFILE_PATH=azureml-setup/pid.txt', '-e', 'AZUREML_RUN_ID=e2e-04_1528035069028', 'azureml/azureml_5707273e4d4f8da6a3c3c494ed4d7d30', '/bin/bash', '-c', '"python" "azureml-setup/run_script.py" "python" "azureml-setup/context_manager_injector.py" "-i" "ProjectPythonPath:context_managers.ProjectPythonPath" "-i" "OutputCollection:context_managers.RunHistory" "train-sklearn.py"']
Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-04_1528035069028

When alpha is 0.40, we have min MSE 3295.74.


##### 05.spark (2018-06-03-10:12:04) ###################
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
/tmp/e2e-test/05 already exists, remove it.
/tmp/e2e-test/05
e2e-05
copy train-spark.py and iris.csv to the project folder.
create an ACI run config.
base image is microsoft/mmlspark:0.12

##################################################
submitting train-spark.py for a Spark run on ACI...
##################################################



##### 07.sklearn.hd.py (2018-06-03-10:12:37) ###########
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
/tmp/e2e-test/07 already exists, remove it.
/tmp/e2e-test/07
e2e-07
copy train-sklearn-one-model.py to the project folder.
create or load BatchAI compute cpucluster...
cpucluster BatchAI
found compute target. just use it.
create generic estimator.

##################################################
Batch AI run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-07/run-history/run-details/e2e-07_1528035161168
RunId: e2e-07_1528035161168

Streaming azureml-logs/80_driver_log.txt
========================================

alpha value is: 0.1
Ridget model fitted.
Mean Squared Error is: 3372.6496278100326
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-07_1528035161168

configure hyperdrive.

##################################################
Hyperdrive run on Batch AI...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-07/run-history/run-details/e2e-07_1528035231083


##### 08.tf.hd.py (2018-06-03-10:13:56) ################
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
/tmp/e2e-test/08 already exists, remove it.
/tmp/e2e-test/08
e2e-08
copy mnist_tf.py to the project folder.
create or load BatchAI compute gpucluster...
cpucluster BatchAI
gpucluster BatchAI
found compute target. just use it.
create TensorFlow estimator.

##################################################
submitting mnist_tf.py for a Batch AI run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-08/run-history/run-details/e2e-08_1528035242355
RunId: e2e-08_1528035242355

Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties
Setting default log level to "WARN".
To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).
18/06/03 14:17:26 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
/azureml-envs/azureml_a0f0a6059c823b2e567e8366d6dcecc5/lib/python3.6/importlib/_bootstrap.py:205: RuntimeWarning: compiletime version 3.5 of module 'tensorflow.python.framework.fast_tensor_util' does not match runtime version 3.6
  return f(*args, **kwds)
data path: /tmp
fetching MNIST data...
MNIST dataset downloaded.
MNIST dataset loaded in memory.
X:  (70000, 784)
y:  (70000,)
labels:  [0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]
training a tensorflow model...
(55000, 784) (55000,)
batch_size: 50
n_batches: 1100
first layer neurons: 300
second layer neurons: 100
2018-06-03 14:17:32.439775: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-06-03 14:17:32.655429: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 328b:00:00.0
totalMemory: 11.17GiB freeMemory: 11.09GiB
2018-06-03 14:17:32.655476: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 328b:00:00.0, compute capability: 3.7)
0 Train accuracy: 0.89625454 , Val accuracy; 0.8972667
1 Train accuracy: 0.91974545 , Val accuracy; 0.917
2 Train accuracy: 0.93078184 , Val accuracy; 0.9284
3 Train accuracy: 0.9385091 , Val accuracy; 0.9346
4 Train accuracy: 0.9438909 , Val accuracy; 0.94
5 Train accuracy: 0.94963634 , Val accuracy; 0.9456667
6 Train accuracy: 0.95287275 , Val accuracy; 0.9483333
7 Train accuracy: 0.9568545 , Val accuracy; 0.9512
8 Train accuracy: 0.96009094 , Val accuracy; 0.95393336
9 Train accuracy: 0.9624182 , Val accuracy; 0.9576667
10 Train accuracy: 0.96525455 , Val accuracy; 0.9588
11 Train accuracy: 0.96812725 , Val accuracy; 0.9624
12 Train accuracy: 0.9698182 , Val accuracy; 0.9626
13 Train accuracy: 0.97096366 , Val accuracy; 0.9642
14 Train accuracy: 0.9736364 , Val accuracy; 0.965
15 Train accuracy: 0.97425455 , Val accuracy; 0.9659333
16 Train accuracy: 0.97583634 , Val accuracy; 0.9662667
17 Train accuracy: 0.9771636 , Val accuracy; 0.9676
18 Train accuracy: 0.9786364 , Val accuracy; 0.96853334
19 Train accuracy: 0.97943634 , Val accuracy; 0.96886665
20 Train accuracy: 0.9801818 , Val accuracy; 0.96846664
21 Train accuracy: 0.9808546 , Val accuracy; 0.96846664
22 Train accuracy: 0.9810182 , Val accuracy; 0.9695333
23 Train accuracy: 0.9833636 , Val accuracy; 0.97073334
24 Train accuracy: 0.98425454 , Val accuracy; 0.9722
Overall accuracy: 0.9722
Confusion matrix:
[[1410    0    4    3    1    5    6    1    7    4]
 [   0 1655    8    3    1    0    5    2    1    1]
 [   2    4 1463    7    1    0    3   10    6    1]
 [   0    0   10 1512    1   12    0    3    7    3]
 [   1    2    2    0 1397    0    3    5    3   21]
 [   6    2    3   19    5 1323    6    2   13    8]
 [   8    2    6    1    6    2 1468    0    7    0]
 [   2    1    8    5    7    0    1 1538    1   11]
 [   4    9    4   14    6    8    6    4 1423    5]
 [   4    2    2   12   12    5    0   18   11 1394]]
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-08_1528035242355

configure hyperdrive.

##################################################
submitting mnist_tf.py for a hyperdrive run on Batch AI...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2euapws/projects/e2e-08/run-history/run-details/e2e-08_1528035552263


##### 10.o16n.py (2018-06-03-10:19:15) #################
Azure ML Core SDK Version: 0.1.0.998005
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2euapws eastus2euap
Registering model mymodel
Name: mymodel 	Version: 15 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 14 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 13 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 12 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 11 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 10 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 9 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 8 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 7 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 6 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 5 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 4 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 3 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 2 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: mymodel 	Version: 1 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Ridge regression model to predict diabetes
Creating image
Running...............
SucceededImage creation operation finished for image myimage:15, operation "Succeeded"
myimage(v.15 [Succeeded]) stored at haieastuacrqrtnjabs.azurecr.io/myimage:15 with build log https://amlbdbatchint.blob.core.windows.net/logs/haieastuacrqrtnjabs15280355655740564.txt?sig=2lOHf1%2BhvcaQB/6cDEUBHBUSa3cqqtApA5eeHQgYS6k%3D&se=2018-07-03T14%3A20%3A41Z&sp=r&sr=b&sv=2017-04-17
myimage(v.5 [Succeeded]) stored at haieastuacrqrtnjabs.azurecr.io/myimage:5 with build log https://amlbdbatchint.blob.core.windows.net/logs/haieastuacrqrtnjabs15279394844349590.txt?sv=2017-04-17&sr=b&sp=r&sig=t%2B7ffcTPL93oaeh/QkG5EvCQs1g7zFapao81FEbwy14%3D&se=2018-07-02T11%3A39%3A13Z
myimage(v.4 [Succeeded]) stored at haieastuacrqrtnjabs.azurecr.io/myimage:4 with build log https://amlbdbatchint.blob.core.windows.net/logs/haieastuacrqrtnjabs15276403969413252.txt?se=2018-06-29T00%3A34%3A30Z&sp=r&sig=08fp6y/DcQHjsWR%2Bo2cbwapzOHA2zKlmxxeh8EiJLX4%3D&sr=b&sv=2017-04-17
myimage(v.3 [Succeeded]) stored at haieastuacrqrtnjabs.azurecr.io/myimage:3 with build log https://amlbdbatchint.blob.core.windows.net/logs/haieastuacrqrtnjabs15276336076967462.txt?sv=2017-04-17&sig=kHOqls6A2GTSzVpE0nF8Kt%2BT6h/1P%2B6iAlLJ5xgFiGQ%3D&sr=b&se=2018-06-28T22%3A41%3A23Z&sp=r
myimage(v.2 [Succeeded]) stored at haieastuacrqrtnjabs.azurecr.io/myimage:2 with build log https://amlbdbatchint.blob.core.windows.net/logs/haieastuacrqrtnjabs15276276288257292.txt?sr=b&sig=Posqs1ZjqdyAWQy/Mg6esqarT/6PMac4vlQdkNimt4A%3D&sv=2017-04-17&sp=r&se=2018-06-28T21%3A01%3A38Z
myimage(v.1 [Succeeded]) stored at haieastuacrqrtnjabs.azurecr.io/myimage:1 with build log https://amlbdbatchint.blob.core.windows.net/logs/haieastuacrqrtnjabs15276240485435702.txt?sr=b&sig=MdhyV57Y0Ib4IQp7abjJQ1Z98KY34Zm7m4ufE%2BdAqrI%3D&sv=2017-04-17&sp=r&se=2018-06-28T20%3A01%3A58Z
Creating service
Running.....................................................
SucceededACI service creation operation finished, operation "Succeeded"
{"result": [5215.19813157987, 3726.9954859385803]}
rrs02 http://40.114.39.61:5001/score
rrs01a None
rrs01 http://40.117.142.120:5001/score
delete service.
delete image
delete model
M	e2e_test/best_model.pkl
M	e2e_test/mse_over_alpha.png
Your branch is up-to-date with 'origin/master'.
Already up-to-date.


###################################
########### END AT 2018-06-03-10:25:35
###################################
