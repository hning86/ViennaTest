/data/git/hai/e2e_test
*** git branch status before ***
  candidate
  daily
* master
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean
*** candidate ***
HEAD is now at c890ccc mnist
git checkout candidate
Your branch is up-to-date with 'origin/candidate'.
Already up-to-date.
*** git branch status after ***
* candidate
  daily
  master
On branch candidate
Your branch is up-to-date with 'origin/candidate'.
nothing to commit, working directory clean
###################################
START AT: 2018-06-13-17:02:36
###################################


##### 01.interactive.e2e.py (2018-06-13-17:02:36) ######
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
start sequential parameter sweep...
try alpha value of 0.00
try alpha value of 0.05
try alpha value of 0.10
try alpha value of 0.15
try alpha value of 0.20
try alpha value of 0.25
try alpha value of 0.30
try alpha value of 0.35
try alpha value of 0.40
try alpha value of 0.45
try alpha value of 0.50
try alpha value of 0.55
try alpha value of 0.60
try alpha value of 0.65
try alpha value of 0.70
try alpha value of 0.75
try alpha value of 0.80
try alpha value of 0.85
try alpha value of 0.90
try alpha value of 0.95
Find the best run.
Best run is: 882695ee-e028-46b1-a6e1-7de37ba275c3
Metrics: {'alpha': 0.4, 'mse': 3295.741064355809, 'columns': ['age', 'gender', 'bmi', 'bp', 's1', 's2', 's3', 's4', 's5', 's6']}
Run history url:
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-01/run-history/run-details/882695ee-e028-46b1-a6e1-7de37ba275c3
plot mse_over_alpha.png
upload mse_over_alpha.png.
deploying to ACI...
Registering model best_model.pkl
Creating image
Image creation operation finished for image rrs01-candidate:17, operation "Succeeded"
Creating service
Running.....................................................................
FailedACI service creation operation finished, operation "Failed"
Service creation failed, unexpected error response:
{'code': 'AciDeploymentFailed', 'message': 'Aci Deployment failed', 'details': [{'code': 'CrashLoopBackOff', 'message': 'CrashLoopBackOff: Back-off 20s restarting failed'}]}
test the web service.


##### 02.local.py (2018-06-13-17:15:47) ################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/02 already exists, remove it.
/tmp/e2e-test/02
e2e-02
copy train-sklearn.py to the project folder.
load run config

##################################################
submitting train-sklearn.py for a local run...
##################################################



##### 03.aci.py (2018-06-13-17:16:19) ##################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/03 already exists, remove it.
/tmp/e2e-test/03
e2e-03
copy train-sklearn.py to the project folder.

##################################################
ACI run...
##################################################

Create a run config object for ACI
base image is continuumio/miniconda3:4.4.10
submitting run...
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-03/run-history/run-details/e2e-03_1528924582388
RunId: e2e-03_1528924582388

Streaming azureml-logs/20_ice_log.txt
=====================================


Execution Summary
=================
RunId: e2e-03_1528924582388



##### 04.dsvm (2018-06-13-17:19:19) ####################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/04 already exists, remove it.
/tmp/e2e-test/04
e2e-04
copy train-sklearn.py to the project folder.

##################################################
Bare VM run
##################################################

Load the cpu-dsvm config from aml_config directory...
submit run...


##### 05.spark (2018-06-13-17:19:56) ###################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/05 already exists, remove it.
/tmp/e2e-test/05
e2e-05
copy train-spark.py and iris.csv to the project folder.
create an ACI run config.
base image is microsoft/mmlspark:0.12

##################################################
submitting train-spark.py for a Spark run on ACI...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-05/run-history/run-details/e2e-05_1528924801171
RunId: e2e-05_1528924801171

Streaming azureml-logs/20_ice_log.txt
=====================================


Execution Summary
=================
RunId: e2e-05_1528924801171

attach a VM target:
Load the cpu-dsvm config and make it run Spark:
base image is: microsoft/mmlspark:0.12

##################################################
submitting train-spark.py for a Spark run on Docker in VM...
##################################################



##### 07.sklearn.hd.py (2018-06-13-17:22:12) ###########
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/07 already exists, remove it.
/tmp/e2e-test/07
e2e-07
copy train-sklearn-one-model.py to the project folder.
create or load BatchAI compute cpucluster...
gpucluster BatchAI
cpucluster BatchAI
found compute target. just use it.
create generic estimator.

##################################################
Batch AI run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-07/run-history/run-details/e2e-07_1528924936665
RunId: e2e-07_1528924936665

Streaming azureml-logs/80_driver_log.txt
========================================

alpha value is: 0.1
Ridget model fitted.
Mean Squared Error is: 3372.6496278100326
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-07_1528924936665

configure hyperdrive.

##################################################
Hyperdrive run on Batch AI...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-07/run-history/run-details/e2e-07_1528925153308


##### 08.tf.hd.py (2018-06-13-17:25:54) ################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/08 already exists, remove it.
/tmp/e2e-test/08
e2e-08
copy mnist_tf.py to the project folder.
create or load BatchAI compute gpucluster...
gpucluster BatchAI
found compute target. just use it.
create TensorFlow estimator.

##################################################
submitting mnist_tf.py for a Batch AI run...
##################################################



##### 10.o16n.py (2018-06-13-17:26:21) #################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
Registering model best_model.pkl
Name: best_model.pkl 	Version: 233 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 231 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 229 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 228 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 226 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 224 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 222 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 220 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 218 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 216 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 214 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 212 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 210 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 208 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 206 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 204 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 202 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 200 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 198 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 196 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 194 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 192 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 189 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Ridge regression model to predict diabetes
Creating image
Running...................
SucceededImage creation operation finished for image myimage:126, operation "Succeeded"
myimage(v.126 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:126 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289252060148830.txt?sp=r&sv=2017-04-17&sr=b&sig=FxXLeCis6yW1KU8Phf11L/GRjfhis3UIvEjmv7tkPQ0%3D&se=2018-07-13T21%3A29%3A01Z
myimage(v.125 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:125 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289219981116496.txt?sp=r&sig=Zx%2BE0Jlz8IufL3n8UrgxQX5rGIbPIaYId/gC0L0qbcw%3D&sr=b&sv=2017-04-17&se=2018-07-13T20%3A35%3A18Z
myimage(v.124 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:124 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289121766990950.txt?sp=r&sv=2017-04-17&sr=b&sig=fGgifNJaZsbUahVMKvGQgY0nrFXHk8qRHAcT3GnIv80%3D&se=2018-07-13T17%3A51%3A30Z
myimage(v.104 [Failed]) stored at haieastuacrgghjerik.azurecr.io/myimage:104 with build log None
Creating service
Running......................................................................
SucceededACI service creation operation finished, operation "Succeeded"
{"result": [5215.19813157987, 3726.9954859385766]}
rrs02-candidate http://23.100.30.56:5001/score
rrs01-candidate None
rrs02-preview None
rrs01-preview http://104.41.138.121:5001/score
delete service.
HEAD is now at f2d8808 remove files
Your branch is up-to-date with 'origin/master'.
Already up-to-date.


###################################
########### END AT 2018-06-13-17:37:48
###################################
