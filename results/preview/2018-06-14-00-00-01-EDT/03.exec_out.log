/data/git/hai/e2e_test
*** git branch status before ***
  candidate
  daily
* master
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean
*** preview ***
HEAD is now at c890ccc mnist
git checkout master
Your branch is up-to-date with 'origin/master'.
Updating c890ccc..2144e49
Fast-forward
 MnistTutorial/3s_as_5s.png                         | Bin 3905 -> 0 bytes
 MnistTutorial/5s_as_3s.png                         | Bin 0 -> 5262 bytes
 MnistTutorial/5s_as_6s.png                         | Bin 0 -> 5746 bytes
 MnistTutorial/6s_as_5s.png                         | Bin 3171 -> 0 bytes
 MnistTutorial/8s_as_3s.png                         | Bin 0 -> 6243 bytes
 MnistTutorial/8s_as_5s.png                         | Bin 2727 -> 0 bytes
 MnistTutorial/MNIST with Azure ML.ipynb            | 388 ++++++++++++++++-----
 MnistTutorial/checkpoint                           |   2 +
 MnistTutorial/confmat.png                          | Bin 10918 -> 10980 bytes
 MnistTutorial/mnist-tf.model.data-00000-of-00001   | Bin 0 -> 1066440 bytes
 MnistTutorial/mnist-tf.model.index                 | Bin 0 -> 295 bytes
 MnistTutorial/mnist-tf.model.meta                  | Bin 0 -> 31817 bytes
 .../model/mnist-tf.model.data-00000-of-00001       | Bin 1066440 -> 1066440 bytes
 MnistTutorial/model/mnist-tf.model.index           | Bin 295 -> 295 bytes
 MnistTutorial/model/mnist-tf.model.meta            | Bin 31817 -> 31817 bytes
 MnistTutorial/myenv.yml                            |  10 +
 MnistTutorial/score.py                             |  24 ++
 .../aml_config/auto_conda_dependencies.yml         |   6 +-
 MnistTutorial/tf-mnist-proj/tf_mnist.py            |   4 +-
 MnistTutorial/tf_mnist.py                          |   4 +-
 20 files changed, 353 insertions(+), 85 deletions(-)
 delete mode 100644 MnistTutorial/3s_as_5s.png
 create mode 100644 MnistTutorial/5s_as_3s.png
 create mode 100644 MnistTutorial/5s_as_6s.png
 delete mode 100644 MnistTutorial/6s_as_5s.png
 create mode 100644 MnistTutorial/8s_as_3s.png
 delete mode 100644 MnistTutorial/8s_as_5s.png
 create mode 100644 MnistTutorial/checkpoint
 create mode 100644 MnistTutorial/mnist-tf.model.data-00000-of-00001
 create mode 100644 MnistTutorial/mnist-tf.model.index
 create mode 100644 MnistTutorial/mnist-tf.model.meta
 create mode 100644 MnistTutorial/myenv.yml
 create mode 100644 MnistTutorial/score.py
*** git branch status after ***
  candidate
  daily
* master
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean
###################################
START AT: 2018-06-14-00:02:33
###################################


##### 01.interactive.e2e.py (2018-06-14-00:02:33) ######
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
start sequential parameter sweep...
try alpha value of 0.00
try alpha value of 0.05
try alpha value of 0.10
try alpha value of 0.15
try alpha value of 0.20
try alpha value of 0.25
try alpha value of 0.30
try alpha value of 0.35
try alpha value of 0.40
try alpha value of 0.45
try alpha value of 0.50
try alpha value of 0.55
try alpha value of 0.60
try alpha value of 0.65
try alpha value of 0.70
try alpha value of 0.75
try alpha value of 0.80
try alpha value of 0.85
try alpha value of 0.90
try alpha value of 0.95
Find the best run.
Best run is: 02f6e41d-c1e3-4bd6-9df6-2464d6a7bd26
Metrics: {'alpha': 0.4, 'mse': 3295.741064355809, 'columns': ['age', 'gender', 'bmi', 'bp', 's1', 's2', 's3', 's4', 's5', 's6']}
Run history url:
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-01/run-history/run-details/02f6e41d-c1e3-4bd6-9df6-2464d6a7bd26
plot mse_over_alpha.png
upload mse_over_alpha.png.
deploying to ACI...
Registering model best_model.pkl
Creating image
Image creation operation finished for image rrs01-preview:20, operation "Succeeded"
Creating service


##### 02.local.py (2018-06-14-00:05:49) ################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/02
e2e-02
copy train-sklearn.py to the project folder.
load run config

##################################################
submitting train-sklearn.py for a local run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-02/run-history/run-details/e2e-02_1528949152
RunId: e2e-02_1528949152

Streaming azureml-logs/80_driver_log.txt
========================================

Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.00, and mse is 3424.32
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.05, and mse is 3408.92
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.10, and mse is 3372.65
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.15, and mse is 3345.15
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.20, and mse is 3325.29
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.25, and mse is 3311.56
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.30, and mse is 3302.67
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.35, and mse is 3297.66
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.40, and mse is 3295.74
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.45, and mse is 3296.32
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.50, and mse is 3298.91
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.55, and mse is 3303.14
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.60, and mse is 3308.70
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.65, and mse is 3315.36
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.70, and mse is 3322.90
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.75, and mse is 3331.17
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.80, and mse is 3340.02
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.85, and mse is 3349.36
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.90, and mse is 3359.09
Accept header absent and forced to application/json
Accept header absent and forced to application/json
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json
Accept header absent and forced to application/json

Execution Summary
=================
RunId: e2e-02_1528949152


##################################################
Submitting train-sklearn.py for a local conda run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-02/run-history/run-details/e2e-02_1528949182
RunId: e2e-02_1528949182

Execution Summary
=================
RunId: e2e-02_1528949182



##### 03.aci.py (2018-06-14-00:06:25) ##################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/03
e2e-03
copy train-sklearn.py to the project folder.

##################################################
ACI run...
##################################################

Create a run config object for ACI
base image is continuumio/miniconda3:4.4.10
submitting run...


##### 04.dsvm (2018-06-14-00:06:54) ####################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/04
e2e-04
copy train-sklearn.py to the project folder.

##################################################
Bare VM run
##################################################

Load the cpu-dsvm config from aml_config directory...
submit run...
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-04/run-history/run-details/e2e-04_1528949218181
RunId: e2e-04_1528949218181

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-04_1528949218181


##################################################
DSVM Docker run...
##################################################

Load cpu-dsvm run config and make it to use Docker.
Base Docker image is: continuumio/miniconda3:4.4.10
submitting run...
https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-04/run-history/run-details/e2e-04_1528949234841
RunId: e2e-04_1528949234841

Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/60_control_log.txt
Logging experiment running status in history service.
Running: ['sudo', 'docker', 'run', '--name', 'e2e-04_1528949234841', '--rm', '-v', '/tmp/azureml_runs/e2e-04_1528949234841:/azureml-run', '-e', 'AZUREML_DOCKERFILE_PATH=azureml-setup/Dockerfile', '-e', 'AZUREML_CONDA_ENVIRONMENT_EXISTENCE_INDICATOR=$HOME/.azureml/locks/azureml_527bb86fe3e626452ec693e8613fd2bf', '-e', 'AZUREML_CONDA_ENVIRONMENT_PATH=/azureml-envs/azureml_527bb86fe3e626452ec693e8613fd2bf', '-e', 'AZUREML_CONDA_LOCK_PATH=$HOME/.azureml/locks/azureml_conda_lock', '-e', 'EXAMPLE_ENV_VAR=EXAMPLE_VALUE', '-e', 'AZUREML_CONTEXT_MANAGER_OUTPUTCOLLECTION=null', '-e', 'AZUREML_RUN_TOKEN_EXPIRY=1529554035', '-e', 'AZUREML_RUN_TOKEN=eyJhbGciOiJSUzI1NiIsImtpZCI6IjMwQTk2ODc3NzgyNDgwMEFFQTc3RTFGMzZBMzM0NTU4OUI0N0VDREIiLCJ0eXAiOiJKV1QifQ.eyJydW5pZCI6ImUyZS0wNF8xNTI4OTQ5MjM0ODQxIiwicm9sZSI6IkNvbnRyaWJ1dG9yIiwic2NvcGUiOiIvc3Vic2NyaXB0aW9ucy9mYWMzNDMwMy00MzVkLTQ0ODYtOGMzZi03MDk0ZDgyYTBiNjAvcmVzb3VyY2VHcm91cHMvYW1sLW5vdGVib29rcy9wcm92aWRlcnMvTWljcm9zb2Z0Lk1hY2hpbmVMZWFybmluZ1NlcnZpY2VzL3dvcmtzcGFjZXMvaGFpZWFzdHVzMndzMyIsImFjY291bnRpZCI6IjViM2RmZjkxLWEwM2ItNDcyZC1iZjVmLTdhNTU3Mjk5ZmEwZSIsIndvcmtzcGFjZUlkIjoiNWIzZGZmOTEtYTAzYi00NzJkLWJmNWYtN2E1NTcyOTlmYTBlIiwicHJvamVjdGlkIjoiOGMxOTI2ZTktOWUwYy00MzFmLTg4MTMtOTE0ZmY4NWYzMGYxIiwiZGlzY292ZXJ5IjoiaHR0cHM6Ly9lYXN0dXMyLmV4cGVyaW1lbnRzLmF6dXJlbWwubmV0L2Rpc2NvdmVyeSIsInRpZCI6IjcyZjk4OGJmLTg2ZjEtNDFhZi05MWFiLTJkN2NkMDExZGI0NyIsIm9pZCI6ImZiN2QyYmJmLTJjNTQtNDZkNy04Nzc1LTdlMzE4NjQ0ZGQ2YiIsImV4cCI6MTUyOTU1NDAzNSwiaXNzIjoiYXp1cmVtbCIsImF1ZCI6ImF6dXJlbWwifQ.Z6YbNlQP-gbmQSi3iJvnEyrg4oHeP7MtC8_Ae_vuy_bRfwyuWKuArw8e7Pqo7PqjgIG5rV4I4jUEjSNbDtb_A6jMGMRNZSwKlo3jBumfkKcnjE4KKe_YtnSCB8TNn8yud6fP3xsjwru6od2ow_DDpJCCPXdJCZa1kXVUBHubLb1S8UjaF9M1nAUiZqpHozkTjSoVK23WC7RYdhF8Znt9rxZ3fDrux05lmpqxuMzuvvZM2iUQ4gtdkIcmiqwBWvzvOI60b0SWiYObPsocxWiLfvF20P9fG0KakX6lNW7XP8xWfOF71G2u0JzjA6zyu4BMIr3D8P5mRmFWHfgehbtp7Q', '-e', 'PYTHONUNBUFFERED=True', '-e', 'AZUREML_ARM_PROJECT_NAME=e2e-04', '-e', 'AZUREML_ARM_WORKSPACE_NAME=haieastus2ws3', '-e', 'AZUREML_ARM_SUBSCRIPTION=fac34303-435d-4486-8c3f-7094d82a0b60', '-e', 'AZUREML_ARM_RESOURCEGROUP=aml-notebooks', '-e', 'AZUREML_ARM_SCOPE=/subscriptions/fac34303-435d-4486-8c3f-7094d82a0b60/resourceGroups/aml-notebooks/providers/Microsoft.MachineLearningServices/workspaces/haieastus2ws3/projects/e2e-04', '-e', 'AZUREML_DISCOVERY_SERVICE_ENDPOINT=https://eastus2.experiments.azureml.net/discovery', '-e', 'AZUREML_SERVICE_ENDPOINT=https://eastus2.experiments.azureml.net', '-e', 'AZUREML_RUN_CONFIGURATION=azureml-setup/mutated_run_configuration.yml', '-e', 'AZUREML_INSTRUMENTATION_KEY=c684677d-b3a0-4709-a00e-78e5b31cfafa', '-e', 'AZUREML_DRIVERLOG_PATH=azureml-logs/driver_log.txt', '-e', 'AZUREML_CONTROLLOG_PATH=azureml-logs/control_log.txt', '-e', 'AZUREML_LOGDIRECTORY_PATH=azureml-logs/', '-e', 'AZUREML_COMPLETEFILE_PATH=azureml-setup/complete', '-e', 'AZUREML_PIDFILE_PATH=azureml-setup/pid.txt', '-e', 'AZUREML_RUN_ID=e2e-04_1528949234841', 'azureml/azureml_09f812fa092befba2ad3852d7e890532', '/bin/bash', '-c', '"/azureml-envs/azureml_527bb86fe3e626452ec693e8613fd2bf/bin/python" "azureml-setup/run_script.py" "/azureml-envs/azureml_527bb86fe3e626452ec693e8613fd2bf/bin/python" "azureml-setup/context_manager_injector.py" "-i" "OutputCollection:context_managers.RunHistory" "train-sklearn.py"']
Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-04_1528949234841

load cpu-dsvm run config and make it use a custom Docker image.
base image: ninghai/azureml:0.3

##################################################
submitting train-sklearn.py for a Custom Docker run on VM...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-04/run-history/run-details/e2e-04_1528949254087
RunId: e2e-04_1528949254087

Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/60_control_log.txt
Logging experiment running status in history service.
Running: ['sudo', 'docker', 'run', '--name', 'e2e-04_1528949254087', '--rm', '-v', '/tmp/azureml_runs/e2e-04_1528949254087:/azureml-run', '-e', 'AZUREML_DOCKERFILE_PATH=azureml-setup/Dockerfile', '-e', 'AZUREML_CONDA_ENVIRONMENT_EXISTENCE_INDICATOR=$HOME/.azureml/locks/azureml_527bb86fe3e626452ec693e8613fd2bf', '-e', 'AZUREML_CONDA_ENVIRONMENT_PATH=/azureml-envs/azureml_527bb86fe3e626452ec693e8613fd2bf', '-e', 'AZUREML_CONDA_LOCK_PATH=$HOME/.azureml/locks/azureml_conda_lock', '-e', 'EXAMPLE_ENV_VAR=EXAMPLE_VALUE', '-e', 'AZUREML_CONTEXT_MANAGER_OUTPUTCOLLECTION=null', '-e', 'AZUREML_RUN_TOKEN_EXPIRY=1529554054', '-e', 'AZUREML_RUN_TOKEN=eyJhbGciOiJSUzI1NiIsImtpZCI6IjMwQTk2ODc3NzgyNDgwMEFFQTc3RTFGMzZBMzM0NTU4OUI0N0VDREIiLCJ0eXAiOiJKV1QifQ.eyJydW5pZCI6ImUyZS0wNF8xNTI4OTQ5MjU0MDg3Iiwicm9sZSI6IkNvbnRyaWJ1dG9yIiwic2NvcGUiOiIvc3Vic2NyaXB0aW9ucy9mYWMzNDMwMy00MzVkLTQ0ODYtOGMzZi03MDk0ZDgyYTBiNjAvcmVzb3VyY2VHcm91cHMvYW1sLW5vdGVib29rcy9wcm92aWRlcnMvTWljcm9zb2Z0Lk1hY2hpbmVMZWFybmluZ1NlcnZpY2VzL3dvcmtzcGFjZXMvaGFpZWFzdHVzMndzMyIsImFjY291bnRpZCI6IjViM2RmZjkxLWEwM2ItNDcyZC1iZjVmLTdhNTU3Mjk5ZmEwZSIsIndvcmtzcGFjZUlkIjoiNWIzZGZmOTEtYTAzYi00NzJkLWJmNWYtN2E1NTcyOTlmYTBlIiwicHJvamVjdGlkIjoiOGMxOTI2ZTktOWUwYy00MzFmLTg4MTMtOTE0ZmY4NWYzMGYxIiwiZGlzY292ZXJ5IjoiaHR0cHM6Ly9lYXN0dXMyLmV4cGVyaW1lbnRzLmF6dXJlbWwubmV0L2Rpc2NvdmVyeSIsInRpZCI6IjcyZjk4OGJmLTg2ZjEtNDFhZi05MWFiLTJkN2NkMDExZGI0NyIsIm9pZCI6ImZiN2QyYmJmLTJjNTQtNDZkNy04Nzc1LTdlMzE4NjQ0ZGQ2YiIsImV4cCI6MTUyOTU1NDA1NCwiaXNzIjoiYXp1cmVtbCIsImF1ZCI6ImF6dXJlbWwifQ.eSSsLl_KmLr-uciLMbWOpTsvKEbHVRmX7FxHIYgkAoYtrpDp_6gR2zSs0feUiN22NS8-b1h_k6EXbo2030Q-_AOQ7mqv8PCirjy98vQf9AK4mo5SpMDGOptuN86fP5x2FudZfoB3swwIqkPdirGM0WGtZGzsKaduk3nW7oDV67co6vYyR8exFeQpSuBtgAXoU7EvyFsX0XqBzYu3RivrOGzjKShzD4sYFYLrtJxJwWiQLYPwdpEqoZiFcAhhbXETbVPx-iCkFm0-I11f5mJrEXmW0BNOiU8S1QQKQ9uzvNWOZpaLlC5n6hf9FK6qrmqYaYLyc3_k42r4JcvWKH4Auw', '-e', 'PYTHONUNBUFFERED=True', '-e', 'AZUREML_ARM_PROJECT_NAME=e2e-04', '-e', 'AZUREML_ARM_WORKSPACE_NAME=haieastus2ws3', '-e', 'AZUREML_ARM_SUBSCRIPTION=fac34303-435d-4486-8c3f-7094d82a0b60', '-e', 'AZUREML_ARM_RESOURCEGROUP=aml-notebooks', '-e', 'AZUREML_ARM_SCOPE=/subscriptions/fac34303-435d-4486-8c3f-7094d82a0b60/resourceGroups/aml-notebooks/providers/Microsoft.MachineLearningServices/workspaces/haieastus2ws3/projects/e2e-04', '-e', 'AZUREML_DISCOVERY_SERVICE_ENDPOINT=https://eastus2.experiments.azureml.net/discovery', '-e', 'AZUREML_SERVICE_ENDPOINT=https://eastus2.experiments.azureml.net', '-e', 'AZUREML_RUN_CONFIGURATION=azureml-setup/mutated_run_configuration.yml', '-e', 'AZUREML_INSTRUMENTATION_KEY=c684677d-b3a0-4709-a00e-78e5b31cfafa', '-e', 'AZUREML_DRIVERLOG_PATH=azureml-logs/driver_log.txt', '-e', 'AZUREML_CONTROLLOG_PATH=azureml-logs/control_log.txt', '-e', 'AZUREML_LOGDIRECTORY_PATH=azureml-logs/', '-e', 'AZUREML_COMPLETEFILE_PATH=azureml-setup/complete', '-e', 'AZUREML_PIDFILE_PATH=azureml-setup/pid.txt', '-e', 'AZUREML_RUN_ID=e2e-04_1528949254087', 'azureml/azureml_5707273e4d4f8da6a3c3c494ed4d7d30', '/bin/bash', '-c', '"python" "azureml-setup/run_script.py" "python" "azureml-setup/context_manager_injector.py" "-i" "OutputCollection:context_managers.RunHistory" "train-sklearn.py"']
Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

alpha is 0.00, and mse is 3424.32
alpha is 0.05, and mse is 3408.92
alpha is 0.10, and mse is 3372.65
alpha is 0.15, and mse is 3345.15
alpha is 0.20, and mse is 3325.29
alpha is 0.25, and mse is 3311.56
alpha is 0.30, and mse is 3302.67
alpha is 0.35, and mse is 3297.66
alpha is 0.40, and mse is 3295.74
alpha is 0.45, and mse is 3296.32
alpha is 0.50, and mse is 3298.91
alpha is 0.55, and mse is 3303.14
alpha is 0.60, and mse is 3308.70
alpha is 0.65, and mse is 3315.36
alpha is 0.70, and mse is 3322.90
alpha is 0.75, and mse is 3331.17
alpha is 0.80, and mse is 3340.02
alpha is 0.85, and mse is 3349.36
alpha is 0.90, and mse is 3359.09
alpha is 0.95, and mse is 3369.13
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-04_1528949254087

When alpha is 0.40, we have min MSE 3295.74.


##### 05.spark (2018-06-14-00:07:59) ###################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/05
e2e-05
copy train-spark.py and iris.csv to the project folder.
create an ACI run config.
base image is microsoft/mmlspark:0.12

##################################################
submitting train-spark.py for a Spark run on ACI...
##################################################



##### 07.sklearn.hd.py (2018-06-14-00:08:35) ###########
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/07
e2e-07
copy train-sklearn-one-model.py to the project folder.
create or load BatchAI compute cpucluster...
gpucluster BatchAI
cpucluster BatchAI
found compute target. just use it.
create generic estimator.

##################################################
Batch AI run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-07/run-history/run-details/e2e-07_1528949318040
RunId: e2e-07_1528949318040

Streaming azureml-logs/20_ice_log.txt
=====================================


Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

alpha value is: 0.1
Ridget model fitted.
Mean Squared Error is: 3372.6496278100326
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-07_1528949318040

configure hyperdrive.

##################################################
Hyperdrive run on Batch AI...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-07/run-history/run-details/e2e-07_1528949367026


##### 08.tf.hd.py (2018-06-14-00:09:29) ################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
/tmp/e2e-test/08
e2e-08
copy mnist_tf.py to the project folder.
create or load BatchAI compute gpucluster...
gpucluster BatchAI
found compute target. just use it.
create TensorFlow estimator.

##################################################
submitting mnist_tf.py for a Batch AI run...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-08/run-history/run-details/e2e-08_1528949372349
RunId: e2e-08_1528949372349

Streaming azureml-logs/20_ice_log.txt
=====================================


Streaming azureml-logs/60_control_log.txt
=========================================

Uploading experiment status to history service.
Adding run profile attachment azureml-logs/80_driver_log.txt

Streaming azureml-logs/80_driver_log.txt
========================================

Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties
Setting default log level to "WARN".
To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).
18/06/14 04:10:01 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
/azureml-envs/azureml_7a360e01fb3f8bf77a09082a58fa4865/lib/python3.6/importlib/_bootstrap.py:205: RuntimeWarning: compiletime version 3.5 of module 'tensorflow.python.framework.fast_tensor_util' does not match runtime version 3.6
  return f(*args, **kwds)
data path: /tmp
fetching MNIST data...
MNIST dataset downloaded.
MNIST dataset loaded in memory.
X:  (70000, 784)
y:  (70000,)
labels:  [0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]
training a tensorflow model...
(55000, 784) (55000,)
batch_size: 50
n_batches: 1100
first layer neurons: 300
second layer neurons: 100
2018-06-14 04:10:07.404730: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-06-14 04:10:07.624919: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: a4eb:00:00.0
totalMemory: 11.17GiB freeMemory: 11.09GiB
2018-06-14 04:10:07.624966: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: a4eb:00:00.0, compute capability: 3.7)
0 Train accuracy: 0.9006 , Val accuracy; 0.90253335
1 Train accuracy: 0.91792727 , Val accuracy; 0.9176
2 Train accuracy: 0.9286 , Val accuracy; 0.9272
3 Train accuracy: 0.9364909 , Val accuracy; 0.9328
4 Train accuracy: 0.94225454 , Val accuracy; 0.93866664
5 Train accuracy: 0.94690907 , Val accuracy; 0.94406664
6 Train accuracy: 0.95076364 , Val accuracy; 0.9465333
7 Train accuracy: 0.9559818 , Val accuracy; 0.9519333
8 Train accuracy: 0.9588909 , Val accuracy; 0.9537333
9 Train accuracy: 0.96189094 , Val accuracy; 0.95566666
10 Train accuracy: 0.96443635 , Val accuracy; 0.9582667
11 Train accuracy: 0.9664182 , Val accuracy; 0.95993334
12 Train accuracy: 0.96825457 , Val accuracy; 0.9612
13 Train accuracy: 0.97049093 , Val accuracy; 0.9636
14 Train accuracy: 0.9723455 , Val accuracy; 0.9644667
15 Train accuracy: 0.97254544 , Val accuracy; 0.9654
16 Train accuracy: 0.97545457 , Val accuracy; 0.9672667
17 Train accuracy: 0.9765818 , Val accuracy; 0.9678
18 Train accuracy: 0.9778909 , Val accuracy; 0.9686667
19 Train accuracy: 0.97934544 , Val accuracy; 0.9702
20 Train accuracy: 0.98032725 , Val accuracy; 0.9704
21 Train accuracy: 0.9803454 , Val accuracy; 0.9709333
22 Train accuracy: 0.98225456 , Val accuracy; 0.97106665
23 Train accuracy: 0.98332727 , Val accuracy; 0.97206664
24 Train accuracy: 0.9837091 , Val accuracy; 0.9724
Overall accuracy: 0.9724
Confusion matrix:
[[1416    0    2    1    0    4    5    2    6    5]
 [   0 1658    7    1    1    1    4    1    1    2]
 [   6    8 1452    7    1    1    4    8   10    0]
 [   0    0    8 1496    2   23    0    4   11    4]
 [   3    2    2    0 1392    0    3    4    3   25]
 [   5    3    3   11    8 1326   10    0   10   11]
 [  10    1    2    1    4    5 1471    0    6    0]
 [   2    6    3    4    2    1    2 1536    3   15]
 [   3    8    2   13    4   11    4    1 1422   15]
 [   4    2    1    8    9    5    0    9    5 1417]]
The experiment completed successfully. Starting post-processing steps.

Execution Summary
=================
RunId: e2e-08_1528949372349

configure hyperdrive.

##################################################
submitting mnist_tf.py for a hyperdrive run on Batch AI...
##################################################

https://mlworkspace.azureml-test.net/home/%2Fsubscriptions%2Ffac34303-435d-4486-8c3f-7094d82a0b60%2FresourceGroups%2Faml-notebooks%2Fproviders%2FMicrosoft.MachineLearningServices%2Fworkspaces%2Fhaieastus2ws3/projects/e2e-08/run-history/run-details/e2e-08_1528949481379


##### 10.o16n.py (2018-06-14-00:11:23) #################
Azure ML Core SDK Version: 0.1.0.1027341
Found config.json in: /data/git/hai/e2e_test/aml_config/config.json
Workspace details:
aml-notebooks haieastus2ws3 eastus2
Registering model best_model.pkl
Name: best_model.pkl 	Version: 237 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 235 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 233 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 231 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 229 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 228 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 226 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 224 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 222 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 220 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 218 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 216 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 214 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 212 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 210 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 208 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 206 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 204 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 202 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 200 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 198 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 196 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 194 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 192 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Name: best_model.pkl 	Version: 189 	Description: Ridge regression model to predict diabetes ['diabetes', 'regression']
Ridge regression model to predict diabetes
Creating image
Running........................
SucceededImage creation operation finished for image myimage:128, operation "Succeeded"
myimage(v.128 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:128 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289494894260040.txt?sp=r&sig=wo55056xkZsnzdBe%2BBdQN1KYdOkCKWW7yICdvuBf0ik%3D&sr=b&sv=2017-04-17&se=2018-07-14T04%3A13%3A29Z
myimage(v.127 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:127 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289351801590090.txt?sp=r&sig=EWodvLPypcZXjtVKyRKvcKf8M9K7hUHvRyCSpH%2BRXDc%3D&sr=b&sv=2017-04-17&se=2018-07-14T00%3A15%3A01Z
myimage(v.126 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:126 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289252060148830.txt?sp=r&sv=2017-04-17&sr=b&sig=FxXLeCis6yW1KU8Phf11L/GRjfhis3UIvEjmv7tkPQ0%3D&se=2018-07-13T21%3A29%3A01Z
myimage(v.125 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:125 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289219981116496.txt?sp=r&sig=Zx%2BE0Jlz8IufL3n8UrgxQX5rGIbPIaYId/gC0L0qbcw%3D&sr=b&sv=2017-04-17&se=2018-07-13T20%3A35%3A18Z
myimage(v.124 [Succeeded]) stored at haieastuacrgghjerik.azurecr.io/myimage:124 with build log https://eastus2ice.blob.core.windows.net/logs/haieastuacrgghjerik15289121766990950.txt?sp=r&sv=2017-04-17&sr=b&sig=fGgifNJaZsbUahVMKvGQgY0nrFXHk8qRHAcT3GnIv80%3D&se=2018-07-13T17%3A51%3A30Z
myimage(v.104 [Failed]) stored at haieastuacrgghjerik.azurecr.io/myimage:104 with build log None
Creating service
HEAD is now at 2144e49 mnist
Your branch is up-to-date with 'origin/master'.
Already up-to-date.


###################################
########### END AT 2018-06-14-00:13:35
###################################
